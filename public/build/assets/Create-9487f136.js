import{r,W as D,j as t,y as p}from"./app-8945b544.js";import{F as E}from"./FrontendLayout-365e4934.js";import W from"./GeneralData-812616ad.js";const R=({industries:o})=>{const[n,y]=r.useState([]),[c,f]=r.useState([]),[u,j]=r.useState([]),[m,b]=r.useState(null),[k,h]=r.useState(!1),[g,N]=r.useState(""),[x,v]=r.useState({}),{data:d,setData:i}=D({user_id:"",template_id:"",name:""});function C(e){e.preventDefault(),p.post(route("website.store"),{data:d,formData:x},{forceFormData:!0,onSuccess:()=>{alert("success")},onError:s=>{console.log(s)}})}const S=e=>{const s=e.target.value,a=o.filter(l=>l.id==s);y(a[0].sub_industries)},w=e=>{const s=e.target.value,a=n.filter(l=>l.id==s);f(a[0].categories)},F=e=>{const s=e.target.value,a=c.filter(l=>l.id==s);j(a[0].templates)},T=e=>{e===m?(b(null),i("template_id","")):(b(e),i("template_id",e))},I=()=>{d.template_id!==""?(p.get(route("website.create"),{template_id:d.template_id},{preserveState:!0,onSuccess:()=>{},onError:e=>{console.log(e)}}),h(!0)):(N("Choose Template"),console.log(g),alert(g))},_=()=>{h(!1)};return t.jsx("div",{className:"my-5",children:t.jsxs("form",{className:"max-w-sm mx-auto w-1/2",onSubmit:C,children:[t.jsx("h1",{className:"text-center fw-bold text-3xl",children:"Make Your Website"}),k?t.jsx("div",{className:"my-10",children:t.jsxs("div",{className:"text-end",children:[t.jsx("button",{type:"button",className:"p-2 bg-slate-800 text-white rounded-md",onClick:_,children:"Go Back"}),t.jsxs("div",{className:"my-3",children:[t.jsx("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-90",children:"Website Name"}),t.jsx("input",{type:"name",value:d.name,onChange:e=>i("name",e.target.value),placeholder:"Enter Website Name",className:"w-full p-2 rounded-md border-2 border-slate-900"})]}),t.jsx(W,{formData:x,setFormData:v})]})}):t.jsxs("div",{children:[t.jsxs("div",{className:"my-3",children:[t.jsx("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-90",children:"Select Industry"}),t.jsxs("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>S(e),children:[t.jsx("option",{value:"",selected:!0,children:"Choose Industry"}),o.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsxs("div",{className:"my-3",children:[t.jsx("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-90",children:"Select SubIndustry"}),t.jsxs("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>w(e),children:[t.jsx("option",{value:"",selected:!0,children:"Choose SubIndustry"}),n.length>0&&n.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsxs("div",{className:"my-3",children:[t.jsx("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-90",children:"Select Category"}),t.jsxs("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>F(e),children:[t.jsx("option",{value:"",selected:!0,children:"Choose Category"}),c.length>0&&c.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),t.jsxs("div",{className:"my-3",children:[t.jsx("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-90",children:"Select Templates"}),t.jsx("div",{className:"flex",children:u.length>0&&u.map(e=>t.jsxs("div",{className:e.id==m?"w-1/4 border-2 border-violet-700":"w-1/4",onClick:()=>T(e.id),children:[t.jsx("img",{src:"https://cdn.dribbble.com/userupload/7943937/file/original-357c3c4e007dd397244e389411cc85c7.jpg?resize=400x0",alt:"",className:"w-full"}),e.name]},e.id))})]}),t.jsx("button",{type:"button",className:"p-2 bg-slate-800 text-white rounded-md",onClick:I,children:"Create Template"})]})]})})};R.layout=o=>t.jsx(E,{children:o,title:"Create Website"});export{R as default};
